{"ast":null,"code":"import * as d3 from \"d3\";\nimport axios from 'axios';\nexport default {\n  name: 'componentA',\n\n  data() {\n    return {\n      heightA: this.$store.state.height * 0.5,\n      widthA: this.$store.state.width * 0.3,\n      hovered: '',\n      selected: '',\n      leaf: false,\n      bar_title: '',\n      panel: false,\n      removeFlag: false,\n      timeOut: null\n    };\n  },\n\n  mounted() {\n    this.$store.commit({\n      type: 'changeSvg',\n      svg: 'svgA',\n      width: this.widthA,\n      height: this.heightA\n    });\n    this.$store.commit({\n      type: 'appendBtn',\n      svgID: 'svgA',\n      btnID: 'Abtn',\n      width: this.widthA,\n      text: 'show'\n    });\n    d3.select(\"#Abtn\").on(\"click\", () => {\n      //console.log(this.$store.state.screenShot)\n      this.$store.commit('showGraph');\n    });\n    axios.get('data.csv').then(response => {\n      let a = d3.csv.parse(response.data);\n      this.$store.commit({\n        type: \"changeGlobal\",\n        key: 'geo',\n        value: a\n      }); //console.log(this.$store.state.geo);\n\n      let b = this.wholeTree(this.$store.state.geo);\n      this.$store.commit({\n        type: \"changeGlobal\",\n        key: 'data_overall',\n        value: b\n      }); //console.log(this.$store.state.data_overall);\n    }).then(() => {\n      const c = JSON.parse(JSON.stringify(this.dataToFlare(this.$store.state.data_overall)));\n      this.$store.commit({\n        type: \"changeGlobal\",\n        key: 'flare',\n        value: c\n      });\n    }).then(() => {\n      //console.log(this.$store.state.flare)\n      this.createSun(this.$store.state.flare);\n    }); //appendLine(svg,width,height,color,stroke,id){\n\n    this.$store.commit({\n      type: \"appendLine\",\n      id: 'lineA',\n      svg: 'svgA',\n      width: this.widthA,\n      height: this.heightA * 2 / 3 - 20,\n      color: 'mediumseagreen',\n      stroke: 1\n    });\n    this.$store.commit({\n      type: 'appendTitle',\n      id: 'AbarTitle',\n      svg: 'svgA',\n      dx: '24px',\n      dy: 16 + this.heightA * 2 / 3,\n      size: 14\n    });\n  },\n\n  computed: {\n    statesSelected() {\n      return this.$store.state.selected;\n    },\n\n    userData() {\n      return this.$store.state.user.actionList;\n    },\n\n    global() {\n      return this.$store.state.geo;\n    },\n\n    treeData() {\n      return this.$store.state.objB.treeData;\n    },\n\n    treeDataLength() {\n      return this.treeData.length;\n    },\n\n    treeDataIndex2() {\n      return this.treeData[1] ? this.treeData[1] : undefined;\n    },\n\n    rootName() {\n      return this.$store.state.objB.rootName;\n    },\n\n    depth() {\n      return this.$store.state.objB.depth;\n    },\n\n    flare() {\n      return this.$store.state.flare;\n    },\n\n    visualStates() {\n      return this.$store.state.visualStates;\n    } // \tselected: payload.selected,\n    // \ttreeTypeFlag: payload.treeTypeFlag,\n    // \tmatrixElement: payload.matrixElement,\n    // \tgraphBtn: payload.graphBtn,\n    // \tobjB: payload.objB,\n    // \tobjC: payload.objC,\n    // \tobjD: payload.objD,\n    // \tobjE: payload.objE\n\n\n  },\n  methods: {\n    log() {\n      // console.log(this.$store.state.screenShot)\n      console.log('selected', this.selected);\n      console.log('visualStates', this.$store.state.visualStates.Aselected);\n      console.log('visualList', this.$store.state.visualList);\n      console.log('actionList', this.$store.state.user.actionList);\n    },\n\n    shot(id) {\n      this.$store.commit({\n        type: 'getImg',\n        id: id\n      });\n    },\n\n    A_createTip(d, svgID, fillColor, fillOpacity, num) {\n      if (arguments.length < 3) {\n        fillColor = 'black';\n      }\n\n      if (arguments.length < 4) {\n        fillOpacity = 0.7;\n      }\n\n      if (arguments.length < 5) {\n        num = d.patent_num;\n      }\n\n      function mouseXY(e) {\n        e = e || window.event;\n        return {\n          \"x\": e.offsetX,\n          \"y\": e.offsetY\n        };\n      }\n\n      let XY = mouseXY(event);\n      d3.select(\"#\" + svgID).append(\"rect\").attr(\"id\", \"tipBack\").attr(\"class\", \"tips\").attr('fill', fillColor).style(\"opacity\", fillOpacity).attr(\"x\", XY.x + 10).attr(\"y\", XY.y - 30).style(\"width\", d.name.length > 10 ? d.name.length * 15 + 10 : 140).attr(\"rx\", 20);\n      d3.select(\"#\" + svgID).append(\"text\").attr(\"class\", \"tips\").attr(\"dx\", XY.x + 20).attr(\"dy\", XY.y - 5).attr(\"text-anchor\", \"start\").attr(\"font-family\", \"sans-serif\").attr(\"font-size\", \"14px\").attr(\"font-weight\", \"bold\").attr(\"fill\", \"white\").text(d.name);\n      d3.select(\"#\" + svgID).append(\"text\").attr(\"class\", \"tips\").attr(\"dx\", XY.x + 20).attr(\"dy\", XY.y + 15).attr(\"text-anchor\", \"start\").attr(\"font-family\", \"sans-serif\").attr(\"font-size\", \"14px\").attr(\"font-weight\", \"bold\").attr(\"fill\", \"white\").text('专利数:' + num);\n    },\n\n    A_TipRemove(svgID) {\n      d3.select(\"#\" + svgID).selectAll(\".tips\").remove();\n    },\n\n    tip_appendText(x, y, gID, text, fillColor) {\n      if (arguments.length < 5) {\n        fillColor = 'white';\n      }\n\n      d3.select(\"#\" + gID).append(\"text\").attr(\"class\", \"tips\").attr(\"dx\", x).attr(\"dy\", y).attr(\"text-anchor\", \"start\").attr(\"font-family\", \"sans-serif\").attr(\"font-size\", \"14px\").attr(\"font-weight\", \"bold\").attr(\"fill\", fillColor).text(text);\n    },\n\n    panel_createTip(d) {\n      function mouseXY(e) {\n        e = e || window.event;\n        return {\n          \"x\": e.offsetX,\n          \"y\": e.offsetY\n        };\n      }\n\n      let XY = mouseXY(event);\n      let len = d.name.length > 10 ? d.name.length * 15 + 10 : 140;\n\n      if (XY.x > this.$store.state.width * 0.70) {\n        XY.x -= len + 50;\n      }\n\n      d3.select(\"#panel\").append(\"rect\").attr(\"id\", \"tipBack\").attr(\"class\", \"tips\").style(\"height\", 100).attr('fill', '#000000').style(\"opacity\", 1).attr(\"x\", XY.x + 10).attr(\"y\", XY.y - 30).style(\"width\", len).attr(\"rx\", 20);\n      this.tip_appendText(XY.x + 20, XY.y - 5, 'panel', d.name);\n      this.tip_appendText(XY.x + 20, XY.y + 15, 'panel', 'view:' + 'Svg' + d.view.substring(d.view.length - 1, d.view.length));\n      this.tip_appendText(XY.x + 20, XY.y + 35, 'panel', 'action:' + d.obj);\n      this.tip_appendText(XY.x + 20, XY.y + 55, 'panel', 'data:' + d.data);\n    },\n\n    createBar(x) {\n      let B_tree = d3.layout.tree().size([300, 300]);\n      let B_nodes = B_tree.nodes(x);\n      B_nodes = B_nodes.filter(d => !d.children);\n      B_nodes.sort((a, b) => {\n        return b.patent_num - a.patent_num;\n      });\n      let ind_temp = [];\n\n      if (B_nodes.length <= 5) {\n        ind_temp = B_nodes;\n      } else {\n        for (let i = 0; i < 5; i++) {\n          ind_temp.push(B_nodes[i]);\n        }\n      }\n\n      let bar_data = ind_temp; //console.log(bar_data);\n\n      let bar_color = d3.scale.category20();\n      let bar_scale = d3.scale.linear().domain([bar_data[bar_data.length - 1].patent_num, bar_data[0].patent_num]).range([40, this.widthA / 3]);\n      let pd = 8,\n          wd = 8;\n      d3.select(\"#svgA\").selectAll(\".bar1\").data(bar_data).enter().append(\"rect\").attr(\"class\", \"bar1\").attr(\"rx\", 5).style(\"fill\", (d, i) => bar_color(i)).attr(\"x\", this.widthA / 2).attr(\"y\", (d, i) => 40 + i * (pd + wd) + this.heightA * 2 / 3 - 14).attr(\"height\", 0).attr(\"width\", 0).on(\"mouseover\", d => {\n        d3.select(\"#svgA\").selectAll(\"path\").filter(data => data.name == d.name).style(\"fill\", \"#ff0000\");\n        this.$store.commit({\n          type: 'userMouseover'\n        });\n      }).on(\"mouseout\", d => {\n        d3.select(\"#svgA\").selectAll(\"path\").filter(data => data.name != this.selected).style(\"fill\", \"#fcf6db\");\n        d3.select(\"#svgA\").selectAll(\"path\").filter(data => data.name == this.selected).style(\"fill\", \"#06ddf4\");\n        this.$store.commit({\n          type: 'userMouseout',\n          view: 'viewA',\n          obj: 'tips(industry)',\n          name: d.name,\n          value: d.patent_num,\n          height: this.heightA,\n          width: this.widthA,\n          desc: 'hover industry' + d.name,\n          // desc:'the overall patent number in ' + d.name +' is ' + d.patent_num,\n          data: {\n            industry: d.name,\n            company: [],\n            province: [],\n            attribute: 'patent_num'\n          }\n        });\n        this.$store.commit('OutRecordState');\n      });\n      d3.select(\"#svgA\").selectAll(\".bar1\").data(bar_data).attr(\"width\", 0).style(\"fill\", (d, i) => bar_color(i)).transition().delay((d, i) => i * 200).attr(\"height\", wd).attr(\"width\", d => bar_scale(d.patent_num));\n      d3.select(\"#svgA\").selectAll(\".bar1\").data(bar_data).exit().remove();\n      d3.select(\"#svgA\").selectAll(\".barText1\").data(bar_data).enter().append(\"text\").attr(\"font-family\", \"sans-serif\").attr(\"font-weight\", \"bold\").attr(\"class\", \"barText1\").attr(\"dx\", this.widthA / 2 - 10).attr(\"dy\", (d, i) => 40 + i * (pd + wd) + 10 + this.heightA * 2 / 3 - 14).attr(\"text-anchor\", \"end\").text(d => d.name).attr(\"fill\", \"black\").attr(\"font-size\", \"0px\").transition().delay((d, i) => i * 200).attr(\"font-size\", \"12px\");\n      d3.select(\"#svgA\").selectAll(\".barText1\").data(bar_data).text(d => d.name).attr(\"font-size\", \"0px\").transition().delay((d, i) => i * 200).attr(\"font-size\", \"12px\");\n      d3.select(\"#svgA\").selectAll(\".barText1\").data(bar_data).exit().remove();\n      d3.select(\"#svgA\").selectAll(\".barTextTag1\").data(bar_data).enter().append(\"text\").attr(\"font-family\", \"sans-serif\").attr(\"font-weight\", \"bold\").attr(\"class\", \"barTextTag1\").attr(\"dx\", d => bar_scale(d.patent_num) + this.widthA / 2 + 5).attr(\"dy\", (d, i) => 40 + i * (pd + wd) + 10 + this.heightA * 2 / 3 - 14).text(d => d.patent_num).attr(\"font-size\", \"0px\").transition().delay((d, i) => i * 200).attr(\"font-size\", \"12px\");\n      d3.select(\"#svgA\").selectAll(\".barTextTag1\").data(bar_data).text(d => d.patent_num).attr(\"font-size\", \"0px\").attr(\"dx\", d => bar_scale(d.patent_num) + this.widthA / 2 + 5).transition().delay((d, i) => i * 200).attr(\"font-size\", \"12px\");\n      d3.select(\"#svgA\").selectAll(\".barTextTag1\").data(bar_data).exit().remove();\n    },\n\n    wholeTree(data) {\n      let data_overall = [];\n      let keys = ['id', 'name1', 'name2', 'name3', 'name4', 'name5', 'name6', 'name7', 'name8', 'comp_name', 'patent_num', 'province'];\n\n      for (let i = 0; i < data.length; i++) {\n        let obj = new Object();\n\n        for (let j = 0; j < keys.length; j++) {\n          obj[keys[j]] = data[i][keys[j]];\n        }\n\n        data_overall.push(obj);\n\n        if (data_overall[i].name2 == \"OLED\" && data_overall[i].name3 == \"制造工艺\") {\n          data_overall[i].name3 = \"OLED制造工艺\";\n        }\n\n        if (data_overall[i].name2 == \"OLED\" && data_overall[i].name3 == \"制造设备\") {\n          data_overall[i].name3 = \"OLED制造设备\";\n        }\n\n        if (data_overall[i].name2 == \"TFT-LCD\" && data_overall[i].name3 == \"制造工艺\") {\n          data_overall[i].name3 = \"TFT-LCD制造工艺\";\n        }\n\n        if (data_overall[i].name2 == \"TFT-LCD\" && data_overall[i].name3 == \"制造设备\") {\n          data_overall[i].name3 = \"TFT-LCD制造设备\";\n        }\n\n        if (data_overall[i].name7 == \"电致发光体(EL)\" && data_overall[i].name6 == \"电致发光体(EL)\") {\n          data_overall[i].name7 = \"电致发光体(EL)(2)\";\n        }\n      } //console.log(data_overall)\n\n\n      return data_overall;\n    },\n\n    createSun(data) {\n      const partition = d3.layout.partition().value(function (d) {\n        return d.patent_num + 7000;\n      });\n      const radius = Math.min(this.widthA, this.heightA) / 3 - 10; //console.log('!!!')\n\n      let x = d3.scale.linear().range([0, 2 * Math.PI]);\n      let y = d3.scale.sqrt().range([0, radius]);\n      const arc = d3.svg.arc().startAngle(function (d) {\n        return Math.max(0, Math.min(2 * Math.PI, x(d.x)));\n      }).endAngle(function (d) {\n        return Math.max(0, Math.min(2 * Math.PI, x(d.x + d.dx)));\n      }).innerRadius(function (d) {\n        return Math.max(0, y(d.y));\n      }).outerRadius(function (d) {\n        return Math.max(0, y(d.y + d.dy));\n      });\n      let group_sun = d3.select(\"#svgA\").append(\"g\").attr(\"id\", \"sunrise\").attr(\"transform\", \"translate(\" + [500 / 2, 500 / 3] + \")\");\n      let A_title = d3.select(\"#svgA\").append(\"text\");\n      A_title.attr(\"dx\", \"24px\").attr(\"dy\", \"30px\").attr(\"font-family\", \"sans-serif\").attr(\"font-size\", \"20px\").attr(\"font-weight\", \"bold\").style(\"fill\", \"black\").attr(\"text-anchor\", \"start\").text(\"半导体显示产业结构图\"); //console.log(partition.nodes(data))\n\n      group_sun.selectAll(\"path\").data(partition.nodes(data)).enter().append(\"path\").attr(\"d\", arc).on(\"mouseover\", d => {\n        this.hovered = d.name;\n        this.A_TipRemove('svgA');\n        this.A_createTip(d, 'svgA');\n        this.$store.commit({\n          type: 'userMouseover'\n        });\n      }).on(\"mousemove\", d => {\n        this.A_TipRemove('svgA');\n        this.A_createTip(d, 'svgA');\n      }).on(\"mouseout\", d => {\n        this.hovered = '';\n        setTimeout(() => {\n          this.A_TipRemove('svgA');\n        }, 1500);\n        this.$store.commit({\n          type: 'userMouseout',\n          view: 'viewA',\n          obj: 'tips(industry)',\n          name: d.name,\n          value: d.patent_num,\n          width: this.widthA,\n          height: this.heightA,\n          desc: 'hover industry' + d.name,\n          // desc:'the overall patent number in ' + d.name +' is ' + d.patent_num,\n          data: {\n            industry: d.name,\n            company: [],\n            province: [],\n            attribute: 'patent_num'\n          }\n        });\n        this.$store.commit('recordState');\n      }) // 选择产业节点\n      .on(\"click\", d => {\n        // console.log(this.selected);\n        this.$store.commit(\"objBclear\");\n        this.selected = d.name; //console.log(this.selected);\n\n        this.$store.commit({\n          type: 'userClick',\n          view: 'viewA',\n          obj: 'select industry(overall)',\n          name: d.name,\n          value: d.patent_num,\n          height: this.heightA,\n          width: this.widthA,\n          // desc:'the overall patent number in ' + d.name +' is ' + d.patent_num,\t\n          desc: 'Select industry ' + d.name,\n          data: {\n            industry: d.name,\n            company: [],\n            province: [],\n            attribute: 'patent_num'\n          } // visualKeys: {}\n\n        });\n        this.$store.commit('recordState');\n\n        if (!d.children) {\n          this.leaf = true;\n          this.createBar(d.parent);\n          this.bar_title = d.parent.name;\n        } else if (d.children) {\n          this.leaf = false;\n          this.createBar(d);\n          this.bar_title = d.name;\n        } //this.shot('app')\n\n      }).style(\"fill\", \"#fcf6db\").style(\"fill-opacity\", 1).style(\"stroke\", \"#6c6c6c\");\n    },\n\n    dataToFlare(x) {\n      var data8 = [];\n      var data81 = [];\n\n      for (let i = 0; i < x.length; i++) {\n        if (x[i].name8) {\n          data8.push({\n            name: x[i].name8,\n            parent: x[i].name7\n          });\n        }\n      }\n\n      for (let i = 0; i < data8.length; i++) {\n        if (i == 0) {\n          data81.push(data8[i]);\n        } else if (data8[i].name != data8[i - 1].name) {\n          data81.push(data8[i]);\n        }\n      }\n\n      for (let i = 0; i < data81.length; i++) {\n        let a = 0;\n\n        for (let j = 0; j < x.length; j++) {\n          if (data81[i].name == x[j].name8) {\n            a += parseInt(x[j].patent_num);\n          }\n        }\n\n        data81[i].patent_num = a;\n      }\n\n      var data7 = [];\n      var data71 = [];\n\n      for (let i = 0; i < x.length; i++) {\n        if (x[i].name7) {\n          data7.push({\n            name: x[i].name7,\n            parent: x[i].name6\n          });\n        }\n      }\n\n      for (let i = 0; i < data7.length; i++) {\n        if (i == 0) {\n          data71.push(data7[i]);\n        } else if (data7[i].name != data7[i - 1].name) {\n          data71.push(data7[i]);\n        }\n      }\n\n      for (let i = 0; i < data71.length; i++) {\n        let a = 0;\n\n        for (let j = 0; j < x.length; j++) {\n          if (data71[i].name == x[j].name7) {\n            a += parseInt(x[j].patent_num);\n          }\n        }\n\n        data71[i].patent_num = a;\n      } //6\n\n\n      var data6 = [];\n      var data61 = [];\n\n      for (let i = 0; i < x.length; i++) {\n        if (x[i].name6) {\n          data6.push({\n            name: x[i].name6,\n            parent: x[i].name5\n          });\n        }\n      }\n\n      for (let i = 0; i < data6.length; i++) {\n        if (i == 0) {\n          data61.push(data6[i]);\n        } else if (data6[i].name != data6[i - 1].name) {\n          data61.push(data6[i]);\n        }\n      }\n\n      for (let i = 0; i < data61.length; i++) {\n        let a = 0;\n\n        for (let j = 0; j < x.length; j++) {\n          if (data61[i].name == x[j].name6) {\n            a += parseInt(x[j].patent_num);\n          }\n        }\n\n        data61[i].patent_num = a;\n      } //5\n\n\n      var data5 = [];\n      var data51 = [];\n\n      for (let i = 0; i < x.length; i++) {\n        if (x[i].name5) {\n          data5.push({\n            name: x[i].name5,\n            parent: x[i].name4\n          });\n        }\n      }\n\n      for (let i = 0; i < data5.length; i++) {\n        if (i == 0) {\n          data51.push(data5[i]);\n        } else if (data5[i].name != data5[i - 1].name) {\n          data51.push(data5[i]);\n        }\n      }\n\n      for (let i = 0; i < data51.length; i++) {\n        let a = 0;\n\n        for (let j = 0; j < x.length; j++) {\n          if (data51[i].name == x[j].name5) {\n            a += parseInt(x[j].patent_num);\n          }\n        }\n\n        data51[i].patent_num = a;\n      } //4\n\n\n      var data4 = [];\n      var data41 = [];\n\n      for (let i = 0; i < x.length; i++) {\n        if (x[i].name4) {\n          data4.push({\n            name: x[i].name4,\n            parent: x[i].name3\n          });\n        }\n      }\n\n      for (let i = 0; i < data4.length; i++) {\n        if (i == 0) {\n          data41.push(data4[i]);\n        } else if (data4[i].name != data4[i - 1].name) {\n          data41.push(data4[i]);\n        }\n      }\n\n      for (let i = 0; i < data41.length; i++) {\n        let a = 0;\n\n        for (let j = 0; j < x.length; j++) {\n          if (data41[i].name == x[j].name4) {\n            a += parseInt(x[j].patent_num);\n          }\n        }\n\n        data41[i].patent_num = a;\n      } //3\n\n\n      var data3 = [];\n      var data31 = [];\n\n      for (let i = 0; i < x.length; i++) {\n        if (x[i].name3) {\n          data3.push({\n            name: x[i].name3,\n            parent: x[i].name2\n          });\n        }\n      }\n\n      for (let i = 0; i < data3.length; i++) {\n        if (i == 0) {\n          data31.push(data3[i]);\n        } else if (data3[i].name != data3[i - 1].name) {\n          data31.push(data3[i]);\n        }\n      }\n\n      for (let i = 0; i < data31.length; i++) {\n        let a = 0;\n\n        for (let j = 0; j < x.length; j++) {\n          if (data31[i].name == x[j].name3) {\n            a += parseInt(x[j].patent_num);\n          }\n        }\n\n        data31[i].patent_num = a;\n      } //2\n\n\n      var data2 = [];\n      var data21 = [];\n\n      for (let i = 0; i < x.length; i++) {\n        if (x[i].name2) {\n          data2.push({\n            name: x[i].name2,\n            parent: x[i].name1\n          });\n        }\n      }\n\n      for (let i = 0; i < data2.length; i++) {\n        if (i == 0) {\n          data21.push(data2[i]);\n        } else if (data2[i].name != data2[i - 1].name) {\n          data21.push(data2[i]);\n        }\n      }\n\n      for (let i = 0; i < data21.length; i++) {\n        let a = 0;\n\n        for (let j = 0; j < x.length; j++) {\n          if (data21[i].name == x[j].name2) {\n            a += parseInt(x[j].patent_num);\n          }\n        }\n\n        data21[i].patent_num = a;\n      }\n\n      var d1 = [],\n          d2 = [],\n          d3 = [],\n          d4 = [],\n          d5 = [],\n          d6 = [],\n          d7 = []; //7\n\n      for (let i = 0; i < data71.length; i++) {\n        let children = [];\n\n        for (let j = 0; j < data81.length; j++) {\n          if (data71[i].name == data81[j].parent) {\n            children.push(data81[j]);\n          }\n        }\n\n        if (children.length > 0) {\n          d7.push({\n            name: data71[i].name,\n            children: children,\n            patent_num: data71[i].patent_num\n          });\n        } else {\n          d7.push({\n            name: data71[i].name,\n            patent_num: data71[i].patent_num\n          });\n        }\n      } //6\n\n\n      for (let i = 0; i < data61.length; i++) {\n        let children = [];\n\n        for (let j = 0; j < d7.length; j++) {\n          if (data61[i].name == data71[j].parent) {\n            children.push(d7[j]);\n          }\n        }\n\n        if (children.length > 0) {\n          d6.push({\n            name: data61[i].name,\n            children: children,\n            patent_num: data61[i].patent_num\n          });\n        } else {\n          d6.push({\n            name: data61[i].name,\n            patent_num: data61[i].patent_num\n          });\n        }\n      } //5\n\n\n      for (let i = 0; i < data51.length; i++) {\n        let children = [];\n\n        for (let j = 0; j < data61.length; j++) {\n          if (data51[i].name == data61[j].parent) {\n            children.push(d6[j]);\n          }\n        }\n\n        if (children.length > 0) {\n          d5.push({\n            name: data51[i].name,\n            children: children,\n            patent_num: data51[i].patent_num\n          });\n        } else {\n          d5.push({\n            name: data51[i].name,\n            patent_num: data51[i].patent_num\n          });\n        }\n      } //4\n\n\n      for (let i = 0; i < data41.length; i++) {\n        let children = [];\n\n        for (let j = 0; j < data51.length; j++) {\n          if (data41[i].name == data51[j].parent) {\n            children.push(d5[j]);\n          }\n        }\n\n        if (children.length > 0) {\n          d4.push({\n            name: data41[i].name,\n            children: children,\n            patent_num: data41[i].patent_num\n          });\n        } else {\n          d4.push({\n            name: data41[i].name,\n            patent_num: data41[i].patent_num\n          });\n        }\n      } //3\n\n\n      for (let i = 0; i < data31.length; i++) {\n        let children = [];\n\n        for (let j = 0; j < data41.length; j++) {\n          if (data31[i].name == data41[j].parent) {\n            children.push(d4[j]);\n          }\n        }\n\n        if (children.length > 0) {\n          d3.push({\n            name: data31[i].name,\n            children: children,\n            patent_num: data31[i].patent_num\n          });\n        } else {\n          d3.push({\n            name: data31[i].name,\n            patent_num: data31[i].patent_num\n          });\n        }\n      } //2\n\n\n      for (let i = 0; i < data21.length; i++) {\n        let children = [];\n\n        for (let j = 0; j < data31.length; j++) {\n          if (data21[i].name == data31[j].parent) {\n            children.push(d3[j]);\n          }\n        }\n\n        if (children.length > 0) {\n          d2.push({\n            name: data21[i].name,\n            children: children,\n            patent_num: data21[i].patent_num\n          });\n        } else {\n          d2.push({\n            name: data21[i].name,\n            patent_num: data21[i].patent_num\n          });\n        }\n      }\n\n      let t_sum = 0;\n\n      for (let i = 0; i < d2.length; i++) {\n        t_sum += d2[i].patent_num;\n      }\n\n      d1 = {\n        name: \"半导体显示\",\n        children: d2,\n        patent_num: t_sum\n      };\n      return d1;\n    },\n\n    aler2() {},\n\n    createPanel() {\n      let w = this.$store.state.width * 0.85;\n      let h = this.$store.state.height * 0.7;\n      let data = this.userData;\n      let len = data.length;\n      let column = 8;\n      let pd = 5,\n          ph = h / (Math.ceil(len / column) + 1);\n      let boxWidth = (w - 50) / column - pd;\n      let boxHeight = 30;\n      d3.select(\"body\").append('svg').attr(\"id\", 'panel').style(\"left\", this.$store.state.width * 0.08).style(\"top\", this.$store.state.height * 0.1).style(\"position\", 'absolute').attr(\"width\", w).attr(\"height\", h).style(\"background-color\", '#000000').style(\"opacity\", 0.7);\n      let actions = d3.select(\"#panel\").append(\"g\");\n      let color = d3.scale.category10();\n      let scale = d3.scale.linear().domain([1, 5]).range([boxHeight, ph]);\n      actions.selectAll(\"rect\").data(data).enter().append('rect').attr(\"width\", d => d.lastTime ? boxWidth * 3 / 4 : boxWidth).attr('height', d => d.lastTime ? scale(d.lastTime) : boxHeight).attr(\"x\", (d, i) => d.lastTime ? i % column * (boxWidth + pd) + pd + boxWidth / 8 : i % column * (boxWidth + pd) + pd).attr(\"y\", (d, i) => d.lastTime ? (Math.floor(i / column) + 1) * ph - scale(d.lastTime) + 30 : (Math.floor(i / column) + 1) * ph).attr(\"rx\", 10).style(\"fill\", d => color(d.view)).style(\"stroke-width\", 3).style(\"stroke\", d => d.lastTime ? 'None' : 'white').on(\"mouseover\", d => this.panel_createTip(d)).on(\"mousemove\", d => {\n        this.A_TipRemove('panel');\n        this.panel_createTip(d);\n      }).on(\"mouseout\", () => {\n        this.A_TipRemove('panel');\n      });\n      actions.selectAll(\"text\").data(data).enter().append('text').attr(\"width\", boxWidth).attr('height', boxHeight).style(\"fill\", 'white').style(\"text-weight\", 'bold').attr(\"text-anchor\", 'middle').attr(\"dx\", (d, i) => i % column * (boxWidth + pd) + pd + boxWidth / 2).attr(\"dy\", (d, i) => (Math.floor(i / column) + 1) * ph + 15).on(\"mouseover\", d => this.panel_createTip(d)).on(\"mousemove\", d => {\n        this.A_TipRemove('panel');\n        this.panel_createTip(d);\n      }).on(\"mouseout\", () => {\n        this.A_TipRemove('panel');\n      }).text(d => d.obj);\n    }\n\n  },\n  watch: {\n    panel(val) {\n      if (val) {\n        this.createPanel();\n      } else {\n        d3.select(\"#panel\").remove();\n      }\n    },\n\n    hovered(val) {\n      d3.select(\"#svgA\").selectAll(\"path\").filter(d => {\n        return d.name == val;\n      }).style(\"fill\", \"#06ddf4\");\n      d3.select(\"#svgA\").selectAll(\"path\").filter(d => {\n        return d.name != val && d.name != this.selected;\n      }).style(\"fill\", \"#fcf6db\");\n    },\n\n    selected(val) {\n      d3.select(\"#svgA\").selectAll(\"path\").filter(d => {\n        return d.name == val;\n      }).style(\"fill\", \"#06ddf4\");\n      d3.select(\"#svgA\").selectAll(\"path\").filter(d => {\n        return d.name != val;\n      }).style(\"fill\", \"#fcf6db\");\n      this.$store.commit({\n        type: 'changeDataD',\n        selected: val,\n        leaf: this.leaf\n      });\n      this.$store.commit({\n        type: 'changeStatesA',\n        Aselected: val,\n        Aleaf: this.leaf\n      });\n      this.$store.commit({\n        type: 'changeGlobalD',\n        key: 'title',\n        value: val\n      }); // 需要在这里修改visualstates的参数\n    },\n\n    bar_title(val) {\n      d3.select(\"#AbarTitle\").text(val + \"叶子产业专利数排序\");\n    },\n\n    leaf(val) {\n      this.$store.commit({\n        type: 'changeDataD',\n        selected: this.selected,\n        leaf: val\n      });\n      this.$store.commit({\n        type: 'changeStatesA',\n        Aselected: this.selected,\n        Aleaf: val\n      });\n    },\n\n    treeDataLength(val) {\n      let tempDatat = [];\n      let tempDatat2 = [];\n      let tempDatat3 = [];\n      let tempDatat4 = [];\n      let tempDatat5 = [];\n\n      if (val == 0) {\n        this.$store.commit({\n          type: 'changeBflare'\n        });\n      } else if (val == 1) {\n        for (let i = 0; i < this.$store.state.data_overall.length; i++) {\n          if (this.$store.state.data_overall[i].comp_name == this.treeData[0]) {\n            tempDatat.push(this.$store.state.data_overall[i]);\n          }\n        }\n\n        let a = this.dataToFlare(tempDatat); //console.log(a)\n\n        this.$store.commit({\n          type: 'changeBflare',\n          flare0: a\n        });\n      } else if (val == 2) {\n        for (let i = 0; i < this.$store.state.data_overall.length; i++) {\n          if (this.$store.state.data_overall[i]['name' + (this.depth + 1)] == this.rootName && this.$store.state.data_overall[i].comp_name == this.treeData[0]) {\n            tempDatat.push(this.$store.state.data_overall[i]);\n          }\n        }\n\n        for (let i = 0; i < this.$store.state.data_overall.length; i++) {\n          if (this.$store.state.data_overall[i]['name' + (this.depth + 1)] == this.rootName && this.$store.state.data_overall[i].comp_name == this.treeData[1]) {\n            tempDatat2.push(this.$store.state.data_overall[i]);\n          }\n        }\n\n        for (let i = 0; i < this.$store.state.data_overall.length; i++) {\n          if (this.$store.state.data_overall[i]['name' + (this.depth + 1)] == this.rootName && (this.$store.state.data_overall[i].comp_name == this.treeData[0] || this.$store.state.data_overall[i].comp_name == this.treeData[1])) {\n            tempDatat3.push(this.$store.state.data_overall[i]);\n          }\n        }\n\n        for (let i = 0; i < this.$store.state.data_overall.length; i++) {\n          if (this.$store.state.data_overall[i]['name' + (this.depth + 1)] == this.rootName && (this.$store.state.data_overall[i].comp_name == this.treeData[0] || this.$store.state.data_overall[i].comp_name == this.treeData[1])) {\n            tempDatat4.push(this.$store.state.data_overall[i]);\n          }\n        }\n\n        for (let i = 0; i < this.$store.state.data_overall.length; i++) {\n          if (this.$store.state.data_overall[i]['name' + (this.depth + 1)] == this.rootName && (this.$store.state.data_overall[i].comp_name == this.treeData[0] || this.$store.state.data_overall[i].comp_name == this.treeData[1])) {\n            tempDatat5.push(this.$store.state.data_overall[i]);\n          }\n        }\n\n        let a = this.dataToFlare(tempDatat);\n        let b = this.dataToFlare(tempDatat2);\n        let c = this.dataToFlare(tempDatat3);\n        let d = this.dataToFlare(tempDatat4);\n        let e = this.dataToFlare(tempDatat5);\n        this.$store.commit({\n          type: 'changeBflare',\n          flare0: a,\n          flare1: b,\n          flareSum: c,\n          flareSum2: d,\n          flareSum3: e\n        });\n        this.$store.commit({\n          type: 'changeStatesB',\n          Bflare0: a,\n          Bflare1: b,\n          BflareSum: c,\n          BflareSum2: d,\n          BflareSum3: e\n        });\n      }\n    },\n\n    treeDataIndex2(val) {\n      let tempDatat = [];\n      let tempDatat2 = [];\n      let tempDatat3 = [];\n      let tempDatat4 = [];\n      let tempDatat5 = [];\n\n      if (val) {\n        for (let i = 0; i < this.$store.state.data_overall.length; i++) {\n          if (this.$store.state.data_overall[i].comp_name == this.treeData[0]) {\n            tempDatat.push(this.$store.state.data_overall[i]);\n          }\n        }\n\n        for (let i = 0; i < this.$store.state.data_overall.length; i++) {\n          if (this.$store.state.data_overall[i].comp_name == this.treeData[1]) {\n            tempDatat2.push(this.$store.state.data_overall[i]);\n          }\n        }\n\n        for (let i = 0; i < this.$store.state.data_overall.length; i++) {\n          if (this.$store.state.data_overall[i].comp_name == this.treeData[0] || this.$store.state.data_overall[i].comp_name == this.treeData[1]) {\n            tempDatat3.push(this.$store.state.data_overall[i]);\n          }\n        }\n\n        for (let i = 0; i < this.$store.state.data_overall.length; i++) {\n          if (this.$store.state.data_overall[i].comp_name == this.treeData[0] || this.$store.state.data_overall[i].comp_name == this.treeData[1]) {\n            tempDatat4.push(this.$store.state.data_overall[i]);\n          }\n        }\n\n        for (let i = 0; i < this.$store.state.data_overall.length; i++) {\n          if (this.$store.state.data_overall[i].comp_name == this.treeData[0] || this.$store.state.data_overall[i].comp_name == this.treeData[1]) {\n            tempDatat5.push(this.$store.state.data_overall[i]);\n          }\n        }\n\n        let a = this.dataToFlare(tempDatat);\n        let b = this.dataToFlare(tempDatat2);\n        let c = this.dataToFlare(tempDatat3);\n        let d = this.dataToFlare(tempDatat4);\n        let e = this.dataToFlare(tempDatat5);\n        this.$store.commit({\n          type: 'changeBflare',\n          flare0: a,\n          flare1: b,\n          flareSum: c,\n          flareSum2: d,\n          flareSum3: e\n        });\n        this.$store.commit({\n          type: 'changeStatesB',\n          Bflare0: a,\n          Bflare1: b,\n          BflareSum: c,\n          BflareSum2: d,\n          BflareSum3: e\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"sources":["C:\\Users\\admin\\Desktop\\WYSIWYG\\归档\\src\\components\\componentA.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\n  <svg id = \"svgA\" @click = 'log()'>\n    <rect\n\tx = 0\n\t:y = 'heightA - 50'\n\theight = 50\n\twidth = 60\n\tfill = 'orange'>\n\t</rect>\n\t<text\n\tdx = 30\n\t:dy = 'heightA - 17'\n\ttext-anchor = 'middle'\n\tfill = 'white'\n\tfont-size = 25\n\tfont-weight = 'bold'\n\t>A\n\t</text>\n  </svg>\n\n</template>\n\n<script>\nimport * as d3 from \"d3\"\n\nimport axios from 'axios'\n\nexport default {\n\tname: 'componentA',\n\tdata(){\n\t\treturn {\n\t\t\theightA:this.$store.state.height * 0.5,\n\t\t\twidthA:this.$store.state.width * 0.3,\n\t\t\thovered:'',\n\t\t\tselected:'',\n\t\t\tleaf:false,\n\t\t\tbar_title:'',\n\t\t\tpanel:false,\n\t\t\tremoveFlag:false,\n\t\t\ttimeOut:null,\n      \n\t\t}\n\t},\n\tmounted(){\n\t\t\n\t\tthis.$store.commit({\n\t\t\ttype :'changeSvg',\n\t\t\tsvg :'svgA',\n\t\t\twidth : this.widthA,\n\t\t\theight : this.heightA\n\t\t})\n\t\tthis.$store.commit({\n\t\t\ttype:'appendBtn',\n\t\t\tsvgID:'svgA',\n\t\t\tbtnID:'Abtn',\n\t\t\twidth:this.widthA,\n\t\t\ttext:'show'\n\t\t})\n\n\t\td3.select(\"#Abtn\")\n\t\t.on(\"click\",()=>{\n\t\t\t//console.log(this.$store.state.screenShot)\n\t\t\tthis.$store.commit('showGraph')\n\t\t\t\n\t\t})\n\n\t\taxios.get('data.csv')\n\t\t.then(response=>{\n\t\t\tlet a = d3.csv.parse(response.data);\n\t\t\tthis.$store.commit({\n\t\t\t\ttype :\"changeGlobal\",\n\t\t\t\tkey :'geo',\n\t\t\t\tvalue :a\n\t\t\t});\n\t\t\t//console.log(this.$store.state.geo);\n\t\t\tlet b = this.wholeTree(this.$store.state.geo);\n\t\t\tthis.$store.commit({\n\t\t\t\ttype :\"changeGlobal\",\n\t\t\t\tkey :'data_overall',\n\t\t\t\tvalue :b\n\t\t\t});\n\t\t\t//console.log(this.$store.state.data_overall);\n\t\t})\n\t\t.then(()=>{\n\t\t\tconst c = JSON.parse(JSON.stringify(this.dataToFlare(this.$store.state.data_overall)))\n\t\t\tthis.$store.commit({\n\t\t\t\ttype :\"changeGlobal\",\n\t\t\t\tkey :'flare',\n\t\t\t\tvalue :c\n\t\t\t});\n\t\t})\n\t\t.then(()=>{\n\t\t\t//console.log(this.$store.state.flare)\n\t\t\tthis.createSun(this.$store.state.flare)\n\t\t})\n\t\t//appendLine(svg,width,height,color,stroke,id){\n\t\tthis.$store.commit({\n\t\t\ttype :\"appendLine\",\n\t\t\tid :'lineA',\n\t\t\tsvg :'svgA',\n\t\t\twidth:this.widthA,\n\t\t\theight:this.heightA * 2 / 3 - 20,\n\t\t\tcolor: 'mediumseagreen',\n\t\t\tstroke:1\n\t\t});\n\t\t\n\t\tthis.$store.commit({\n\t\t\ttype:'appendTitle',\n\t\t\tid:'AbarTitle',\n\t\t\tsvg:'svgA',\n\t\t\tdx:'24px',\n\t\t\tdy:16+this.heightA *2/3,\n\t\t\tsize:14\n\t\t\t\n\t\t})\n\t\t\n\t},\n\tcomputed:{\n\t\tstatesSelected(){\n\t\t\treturn this.$store.state.selected\n\t\t},\n\t\tuserData(){\n\t\t\treturn this.$store.state.user.actionList\n\t\t},\n\t\tglobal(){\n\t\t\treturn this.$store.state.geo\n\t\t},\n\t\ttreeData(){\n\t\t\treturn this.$store.state.objB.treeData\n\t\t},\n\t\ttreeDataLength(){\n\t\t\treturn this.treeData.length\n\t\t},\n\t\ttreeDataIndex2(){\n\t\t\treturn this.treeData[1]? this.treeData[1] : undefined\n\t\t},\n\t\trootName(){\n\t\t\treturn this.$store.state.objB.rootName\n\t\t},\n\t\tdepth(){\n\t\t\treturn this.$store.state.objB.depth\n\t\t},\n\t\tflare(){\n\t\t\treturn this.$store.state.flare\n\t\t},\n\t\tvisualStates(){\n\t\t\treturn this.$store.state.visualStates\n\t\t}\n\n\n\n\n\n\t\t// \tselected: payload.selected,\n\t\t// \ttreeTypeFlag: payload.treeTypeFlag,\n\t\t// \tmatrixElement: payload.matrixElement,\n\t\t// \tgraphBtn: payload.graphBtn,\n\t\t// \tobjB: payload.objB,\n\t\t// \tobjC: payload.objC,\n\t\t// \tobjD: payload.objD,\n\t\t// \tobjE: payload.objE\n\n\t},\n\tmethods:{\n\t\tlog(){\n\t\t\t// console.log(this.$store.state.screenShot)\n\t\t\tconsole.log('selected', this.selected)\n\t\t\tconsole.log('visualStates', this.$store.state.visualStates.Aselected)\n\t\t\tconsole.log('visualList', this.$store.state.visualList)\n\t\t\tconsole.log('actionList', this.$store.state.user.actionList)\n\t\t},\n\t\tshot(id){\n\t\t\tthis.$store.commit({\n\t\t\t\ttype:'getImg',\n\t\t\t\tid:id\n\t\t\t})\n\t\t},\n\t\tA_createTip(d,svgID,fillColor,fillOpacity,num){\n\t\t\tif (arguments.length <3){\n\t\t\t\tfillColor = 'black'\n\t\t\t}\n\t\t\tif(arguments.length<4){\n\t\t\t\tfillOpacity = 0.7\n\t\t\t}\n\t\t\tif (arguments.length<5){\n\t\t\t\tnum = d.patent_num\n\t\t\t}\n\t\t\tfunction mouseXY(e){\n\t\t\t\t\t\t\te=e||window.event;\n\t\t\t\t\t\t\treturn { \"x\": e.offsetX, \"y\": e.offsetY };\n\t\t\t\t\t\t}\n\t\t\tlet XY = mouseXY(event);\n\t\t\t\n\t\t\td3.select(\"#\"+svgID).append(\"rect\")\n\t\t\t.attr(\"id\",\"tipBack\")\n\t\t\t.attr(\"class\",\"tips\")\n\t\t\t.attr('fill',fillColor)\n\t\t\t.style(\"opacity\",fillOpacity)\n\t\t\t.attr(\"x\", XY.x+10)\n\t\t\t.attr(\"y\",XY.y-30)\n\t\t\t.style(\"width\",d.name.length>10?d.name.length *15 +10:140)\n\t\t\t.attr(\"rx\",20);\n\t\t\t\n\t\t\td3.select(\"#\"+svgID).append(\"text\")\n\t\t\t.attr(\"class\",\"tips\")\n\t\t\t.attr(\"dx\",XY.x+20)\n\t\t\t.attr(\"dy\",XY.y-5)\n\t\t\t.attr(\"text-anchor\",\"start\")\n\t\t\t.attr(\"font-family\", \"sans-serif\")\n\t\t\t.attr(\"font-size\", \"14px\")\n\t\t\t.attr(\"font-weight\", \"bold\")\n\t\t\t.attr(\"fill\", \"white\")\n\t\t\t.text(d.name)\n\t\t\t\n\t\t\td3.select(\"#\"+svgID).append(\"text\")\n\t\t\t.attr(\"class\",\"tips\")\n\t\t\t.attr(\"dx\",XY.x+20)\n\t\t\t.attr(\"dy\",XY.y+15)\n\t\t\t.attr(\"text-anchor\",\"start\")\n\t\t\t.attr(\"font-family\", \"sans-serif\")\n\t\t\t.attr(\"font-size\", \"14px\")\n\t\t\t.attr(\"font-weight\", \"bold\")\n\t\t\t.attr(\"fill\", \"white\")\n\t\t\t.text('专利数:'+num)\n\t\t},\n\t\tA_TipRemove(svgID){\n\t\t\td3.select(\"#\"+svgID).selectAll(\".tips\").remove()\n\t\t},\n\t\ttip_appendText(x,y,gID,text,fillColor){\n\t\t\tif(arguments.length<5){\n\t\t\t\tfillColor = 'white'\n\t\t\t}\n\t\t\td3.select(\"#\"+gID).append(\"text\")\n\t\t\t.attr(\"class\",\"tips\")\n\t\t\t.attr(\"dx\",x)\n\t\t\t.attr(\"dy\",y)\n\t\t\t.attr(\"text-anchor\",\"start\")\n\t\t\t.attr(\"font-family\", \"sans-serif\")\n\t\t\t.attr(\"font-size\", \"14px\")\n\t\t\t.attr(\"font-weight\", \"bold\")\n\t\t\t.attr(\"fill\", fillColor)\n\t\t\t.text(text)\n\t\t},\n\t\tpanel_createTip(d){\n\t\t\t\n\t\t\tfunction mouseXY(e){\n\t\t\t\t\t\t\te=e||window.event;\n\t\t\t\t\t\t\treturn { \"x\": e.offsetX, \"y\": e.offsetY };\n\t\t\t\t\t\t}\n\t\t\tlet XY = mouseXY(event);\n\t\t\tlet len = d.name.length>10?d.name.length *15 +10:140\n\t\t\tif(XY.x>this.$store.state.width * 0.70){\n\t\t\t\tXY.x -= len + 50\n\t\t\t}\n\t\t\td3.select(\"#panel\").append(\"rect\")\n\t\t\t.attr(\"id\",\"tipBack\")\n\t\t\t.attr(\"class\",\"tips\")\n\t\t\t.style(\"height\",100)\n\t\t\t.attr('fill','#000000')\n\t\t\t.style(\"opacity\",1)\n\t\t\t.attr(\"x\", XY.x+10)\n\t\t\t.attr(\"y\",XY.y-30)\n\t\t\t.style(\"width\",len)\n\t\t\t.attr(\"rx\",20);\n\t\t\t\n\t\t\tthis.tip_appendText(XY.x+20,XY.y-5,'panel',d.name);\n\t\t\tthis.tip_appendText(XY.x+20,XY.y+15,'panel','view:'+'Svg' + d.view.substring(d.view.length-1,d.view.length));\n\t\t\tthis.tip_appendText(XY.x+20,XY.y+35,'panel','action:'+d.obj)\n\t\t\tthis.tip_appendText(XY.x+20,XY.y+55,'panel','data:'+d.data);\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t},\n\t\tcreateBar(x){\n\t\t\tlet B_tree = d3.layout.tree()\n\t\t\t.size([300,300]);\n\t\t\tlet B_nodes = B_tree.nodes(x);\n\t\t\tB_nodes = B_nodes.filter(d=> ! d.children);\n\t\t\tB_nodes.sort((a,b)=>{\n\t\t\t\treturn b.patent_num - a.patent_num\n\t\t\t})\n\t\t\tlet ind_temp = [];\n\t\t\tif(B_nodes.length<=5){\n\t\t\t\tind_temp = B_nodes\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfor(let i =0;i<5;i++){\n\t\t\t\t\tind_temp.push(B_nodes[i])\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tlet bar_data = ind_temp;\n\t\t\t//console.log(bar_data);\n\t\t\tlet bar_color = d3.scale.category20();\n\t\t\tlet bar_scale = d3.scale.linear().domain([bar_data[bar_data.length-1].patent_num,bar_data[0].patent_num]).range([40,this.widthA/3]);\n\t\t\tlet pd = 8,wd = 8;\n\t\t\td3.select(\"#svgA\").selectAll(\".bar1\")\n\t\t\t.data(bar_data)\n\t\t\t.enter()\n\t\t\t.append(\"rect\")\n\t\t\t.attr(\"class\",\"bar1\")\n\t\t\t.attr(\"rx\",5)\n\t\t\t.style(\"fill\",(d,i)=>bar_color(i))\n\t\t\t.attr(\"x\",this.widthA/2)\n\t\t\t.attr(\"y\",(d,i)=> 40 + i * (pd+wd) +this.heightA*2/3 - 14)\n\t\t\t.attr(\"height\",0)\n\t\t\t.attr(\"width\",0)\n\t\t\t.on(\"mouseover\",(d)=>{\n\t\t\t\td3.select(\"#svgA\").selectAll(\"path\")\n\t\t\t\t.filter(data=>data.name == d.name)\n\t\t\t\t.style(\"fill\",\"#ff0000\");\n\t\t\t\t\n\t\t\t\tthis.$store.commit({\n\t\t\t\t\ttype:'userMouseover',\n\t\t\t\t})\n\t\t\t\t\n\t\t\t})\n\t\t\t.on(\"mouseout\",(d)=>{\n\t\t\t\td3.select(\"#svgA\").selectAll(\"path\")\n\t\t\t\t.filter(data=>data.name != this.selected)\n\t\t\t\t.style(\"fill\",\"#fcf6db\")\n\t\t\t\td3.select(\"#svgA\").selectAll(\"path\")\n\t\t\t\t.filter(data=>data.name == this.selected)\n\t\t\t\t.style(\"fill\",\"#06ddf4\")\n\t\t\t\t\n\t\t\t\tthis.$store.commit({\n\t\t\t\t\ttype:'userMouseout',\n\t\t\t\t\tview:'viewA',\n\t\t\t\t\tobj:'tips(industry)',\n\t\t\t\t\tname:d.name,\n\t\t\t\t\tvalue:d.patent_num,\n\t\t\t\t\theight:this.heightA,\n\t\t\t\t\twidth:this.widthA,\n\t\t\t\t\tdesc: 'hover industry' + d.name,\n\t\t\t\t\t// desc:'the overall patent number in ' + d.name +' is ' + d.patent_num,\n\t\t\t\t\t\n          data:{\n            industry:d.name,\n            company:[],\n            province:[],\n            attribute:'patent_num'\n          }\n\t\t\t\t})\n\t\t\t\tthis.$store.commit('OutRecordState')\n\t\t\t\t\n\t\t\t})\n\t\t\t\n\t\t\t\n\t\t\td3.select(\"#svgA\").selectAll(\".bar1\")\n\t\t\t.data(bar_data)\n\t\t\t.attr(\"width\",0)\n\t\t\t.style(\"fill\",(d,i)=>bar_color(i))\n\t\t\t.transition()\n\t\t\t.delay((d,i)=> i * 200)\n\t\t\t.attr(\"height\",wd)\n\t\t\t.attr(\"width\",d=>bar_scale(d.patent_num));\n\t\t\t\n\t\t\td3.select(\"#svgA\").selectAll(\".bar1\")\n\t\t\t.data(bar_data)\n\t\t\t.exit()\n\t\t\t.remove();\n\t\t\t\n\t\t\td3.select(\"#svgA\").selectAll(\".barText1\")\n\t\t\t.data(bar_data)\n\t\t\t.enter()\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"font-family\", \"sans-serif\")\n\t\t\t.attr(\"font-weight\", \"bold\")\n\t\t\t.attr(\"class\",\"barText1\")\n\t\t\t\n\t\t\t.attr(\"dx\",this.widthA/2 - 10)\n\t\t\t.attr(\"dy\",(d,i)=> 40 + i * (pd+wd) +10+this.heightA *2/3 -14)\n\t\t\t.attr(\"text-anchor\",\"end\")\n\t\t\t.text(d=>d.name)\n\t\t\t.attr(\"fill\",\"black\")\n\t\t\t.attr(\"font-size\", \"0px\")\n\t\t\t.transition()\n\t\t\t.delay((d,i)=> i * 200)\n\t\t\t.attr(\"font-size\", \"12px\")\n\t\t\t\n\t\t\td3.select(\"#svgA\").selectAll(\".barText1\")\n\t\t\t.data(bar_data)\n\t\t\t.text(d=>d.name)\n\t\t\t.attr(\"font-size\", \"0px\")\n\t\t\t.transition()\n\t\t\t.delay((d,i)=> i * 200)\n\t\t\t.attr(\"font-size\", \"12px\");\n\t\t\t\n\t\t\td3.select(\"#svgA\").selectAll(\".barText1\")\n\t\t\t.data(bar_data)\n\t\t\t.exit()\n\t\t\t.remove();\n\t\t\t\n\t\t\td3.select(\"#svgA\").selectAll(\".barTextTag1\")\n\t\t\t.data(bar_data)\n\t\t\t.enter()\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"font-family\", \"sans-serif\")\n\t\t\t.attr(\"font-weight\", \"bold\")\n\t\t\t.attr(\"class\",\"barTextTag1\")\n\t\t\t.attr(\"dx\",d=>bar_scale(d.patent_num) + this.widthA/2 +5)\n\t\t\t.attr(\"dy\",(d,i)=> 40 + i * (pd+wd) +10+this.heightA *2/3-14)\n\t\t\t.text(d=>d.patent_num)\n\t\t\t.attr(\"font-size\", \"0px\")\n\t\t\t.transition()\n\t\t\t.delay((d,i)=> i * 200)\n\t\t\t.attr(\"font-size\", \"12px\");\n\t\t\t\n\t\t\td3.select(\"#svgA\").selectAll(\".barTextTag1\")\n\t\t\t.data(bar_data)\n\t\t\t.text(d=>d.patent_num)\n\t\t\t.attr(\"font-size\", \"0px\")\n\t\t\t.attr(\"dx\",d=>bar_scale(d.patent_num) + this.widthA/2 +5)\n\t\t\t.transition()\n\t\t\t.delay((d,i)=> i * 200)\n\t\t\t.attr(\"font-size\", \"12px\");\n\t\t\t\n\t\t\td3.select(\"#svgA\").selectAll(\".barTextTag1\")\n\t\t\t.data(bar_data)\n\t\t\t.exit()\n\t\t\t.remove();\n\t\t},\n\t\twholeTree(data){\n\t\t\tlet data_overall = [];\n\t\t\tlet keys = ['id','name1','name2','name3','name4','name5','name6','name7','name8','comp_name','patent_num','province'];\n\t\t\tfor(let i = 0;i<data.length;i++){\n\t\t\t\tlet obj = new Object();\n\t\t\t\tfor(let j = 0;j<keys.length;j++){\n\t\t\t\t\tobj[keys[j]] = data[i][keys[j]]\n\t\t\t\t}\n\t\t\t\tdata_overall.push(obj);\n\t\t\t\tif(data_overall[i].name2 == \"OLED\" && data_overall[i].name3 == \"制造工艺\"){\n\t\t\t\t\tdata_overall[i].name3 = \"OLED制造工艺\"\n\t\t\t\t}\n\t\t\t\tif(data_overall[i].name2 == \"OLED\" && data_overall[i].name3 == \"制造设备\"){\n\t\t\t\t\tdata_overall[i].name3 = \"OLED制造设备\"\n\t\t\t\t}\n\t\t\t\tif(data_overall[i].name2 == \"TFT-LCD\" && data_overall[i].name3 == \"制造工艺\"){\n\t\t\t\t\tdata_overall[i].name3 = \"TFT-LCD制造工艺\"\n\t\t\t\t}\n\t\t\t\tif(data_overall[i].name2 == \"TFT-LCD\" && data_overall[i].name3 == \"制造设备\"){\n\t\t\t\t\tdata_overall[i].name3 = \"TFT-LCD制造设备\"\n\t\t\t\t}\n\t\t\t\tif(data_overall[i].name7 == \"电致发光体(EL)\" && data_overall[i].name6 == \"电致发光体(EL)\"){\n\t\t\t\t\tdata_overall[i].name7 = \"电致发光体(EL)(2)\"\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t//console.log(data_overall)\n\t\t\treturn data_overall\n\t\t\t\n\t\t\t\n\t\t},\n\t\t\n\t\tcreateSun(data){\n\t\t\tconst partition = d3.layout.partition()\n\t\t\t.value(function(d) { return d.patent_num +7000; });\n\t\t\t\n\t\t\tconst radius = (Math.min(this.widthA,this.heightA) / 3) - 10;\n\t\t\t\n\t\t\t//console.log('!!!')\n\t\t\t\n\t\t\tlet x = d3.scale.linear()\n\t\t\t\t\t.range([0, 2 * Math.PI]);\n\t\t\t\n\t\t\tlet y = d3.scale.sqrt()\n\t\t\t\t\t.range([0, radius]);\n\t\t\tconst arc = d3.svg.arc()\n\t\t\t.startAngle(function(d) { return Math.max(0, Math.min(2 * Math.PI, x(d.x))); })\n\t\t\t.endAngle(function(d) { return Math.max(0, Math.min(2 * Math.PI, x(d.x + d.dx))); })\n\t\t\t.innerRadius(function(d) { return Math.max(0, y(d.y)); })\n\t\t\t.outerRadius(function(d) { return Math.max(0, y(d.y + d.dy)); });\n\t\t\t\n\t\t\tlet group_sun = d3.select(\"#svgA\").append(\"g\").attr(\"id\",\"sunrise\")\n\t\t\t.attr(\"transform\",\"translate(\"+ [500/2,500/3 ] +\")\");\n\t\t\t\n\t\t\tlet A_title = d3.select(\"#svgA\").append(\"text\");\n\t\t\t\n\t\t\tA_title.attr(\"dx\",\"24px\")\n\t\t\t.attr(\"dy\",\"30px\")\n\t\t\t.attr(\"font-family\", \"sans-serif\")\n\t\t\t.attr(\"font-size\", \"20px\")\n\t\t\t.attr(\"font-weight\", \"bold\")\n\t\t\t.style(\"fill\",\"black\")\n\t\t\t.attr(\"text-anchor\",\"start\")\n\t\t\t.text(\"半导体显示产业结构图\");\n\t\t\t//console.log(partition.nodes(data))\n\t\t\tgroup_sun.selectAll(\"path\")\n\t\t\t\t\t.data(partition.nodes(data))\n\t\t\t\t\t.enter().append(\"path\")\n\t\t\t\t\t.attr(\"d\", arc)\n\t\t\t\t\t.on(\"mouseover\",(d)=>{\n\t\t\t\t\t\tthis.hovered = d.name\n\t\t\t\t\t\tthis.A_TipRemove('svgA');\n\t\t\t\t\t\tthis.A_createTip(d,'svgA');\n\t\t\t\t\t\tthis.$store.commit({\n\t\t\t\t\t\t\ttype:'userMouseover'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t\t.on(\"mousemove\",d=>{\n\t\t\t\t\t\tthis.A_TipRemove('svgA');\n\t\t\t\t\t\tthis.A_createTip(d,'svgA');\n\t\t\t\t\t})\n\t\t\t\t\t.on(\"mouseout\",(d)=>{\n\t\t\t\t\t\tthis.hovered = ''\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.A_TipRemove('svgA');\n\t\t\t\t\t\t\t}, 1500);\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.$store.commit({\n\t\t\t\t\t\t\ttype:'userMouseout',\n\t\t\t\t\t\t\tview:'viewA',\n\t\t\t\t\t\t\tobj:'tips(industry)',\n\t\t\t\t\t\t\tname:d.name,\n\t\t\t\t\t\t\tvalue:d.patent_num,\n\t\t\t\t\t\t\twidth:this.widthA,\n\t\t\t\t\t\t\theight:this.heightA,\n\t\t\t\t\t\t\tdesc: 'hover industry' + d.name,\n\t\t\t\t\t\t\t// desc:'the overall patent number in ' + d.name +' is ' + d.patent_num,\n\t\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\t\tindustry:d.name,\n\t\t\t\t\t\t\t\tcompany:[],\n\t\t\t\t\t\t\t\tprovince:[],\n\t\t\t\t\t\t\t\tattribute:'patent_num'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.$store.commit('recordState')\n\t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t\t// 选择产业节点\n\t\t\t\t\t.on(\"click\",d=>{\n\t\t\t\t\t\t// console.log(this.selected);\n\t\t\t\t\t\tthis.$store.commit(\"objBclear\");\n\t\t\t\t\t\tthis.selected = d.name;\n\t\t\t\t\t\t//console.log(this.selected);\n\t\t\t\t\t\tthis.$store.commit({\n\t\t\t\t\t\t\ttype:'userClick',\n\t\t\t\t\t\t\tview:'viewA',\n\t\t\t\t\t\t\tobj:'select industry(overall)',\n\t\t\t\t\t\t\tname:d.name,\n\t\t\t\t\t\t\tvalue:d.patent_num,\n\t\t\t\t\t\t\theight:this.heightA,\n\t\t\t\t\t\t\twidth:this.widthA,\n\t\t\t\t\t\t\t// desc:'the overall patent number in ' + d.name +' is ' + d.patent_num,\t\n\t\t\t\t\t\t\tdesc:'Select industry ' + d.name,\t\t\n\t\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\t\tindustry:d.name,\n\t\t\t\t\t\t\t\tcompany:[],\n\t\t\t\t\t\t\t\tprovince:[],\n\t\t\t\t\t\t\t\tattribute:'patent_num'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t// visualKeys: {}\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tthis.$store.commit('recordState')\n\n\n\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!d.children){\n\t\t\t\t\t\t\tthis.leaf = true;\n\t\t\t\t\t\t\tthis.createBar(d.parent);\n\t\t\t\t\t\t\tthis.bar_title = d.parent.name\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(d.children){\n\t\t\t\t\t\t\tthis.leaf = false\n\t\t\t\t\t\t\tthis.createBar(d);\n\t\t\t\t\t\t\tthis.bar_title = d.name\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t//this.shot('app')\n\t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t\t.style(\"fill\", \"#fcf6db\")\n\t\t\t\t\t.style(\"fill-opacity\",1)\n\t\t\t\t\t.style(\"stroke\",\"#6c6c6c\")\n\t\t\t\t\t\n\t\t},\n\n\t\tdataToFlare(x){\n\t\t\tvar data8 = [];\n\t\t\t\tvar data81 = [];\n\t\t\t\tfor(let i = 0;i<x.length;i++){\n\t\t\t\t\tif(x[i].name8){\n\t\t\t\t\t\tdata8.push({name:x[i].name8,parent:x[i].name7})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<data8.length;i++){\n\t\t\t\t\tif(i==0){\n\t\t\t\t\t\tdata81.push(data8[i])\n\t\t\t\t\t}\n\t\t\t\t\telse if(data8[i].name!=data8[i-1].name){\n\t\t\t\t\t\tdata81.push(data8[i])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i < data81.length;i++){\n\t\t\t\t\tlet a = 0;\n\t\t\t\t\tfor(let j = 0;j<x.length;j++){\n\t\t\t\t\t\tif(data81[i].name == x[j].name8){\n\t\t\t\t\t\t\ta += parseInt(x[j].patent_num)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata81[i].patent_num = a\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar data7 = [];\n\t\t\t\tvar data71 = [];\n\t\t\t\tfor(let i = 0;i<x.length;i++){\n\t\t\t\t\tif(x[i].name7){\n\t\t\t\t\t\tdata7.push({name:x[i].name7,parent:x[i].name6})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(let i = 0;i<data7.length;i++){\n\t\t\t\t\tif(i==0){\n\t\t\t\t\t\tdata71.push(data7[i])\n\t\t\t\t\t}\n\t\t\t\t\telse if(data7[i].name!=data7[i-1].name){\n\t\t\t\t\t\tdata71.push(data7[i])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i < data71.length;i++){\n\t\t\t\t\tlet a = 0;\n\t\t\t\t\tfor(let j = 0;j<x.length;j++){\n\t\t\t\t\t\tif(data71[i].name == x[j].name7){\n\t\t\t\t\t\t\ta += parseInt(x[j].patent_num)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata71[i].patent_num = a\n\t\t\t\t}\n\t\t\t\t//6\n\t\t\t\tvar data6 = [];\n\t\t\t\tvar data61 = [];\n\t\t\t\tfor(let i = 0;i<x.length;i++){\n\t\t\t\t\tif(x[i].name6){\n\t\t\t\t\t\tdata6.push({name:x[i].name6,parent:x[i].name5})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<data6.length;i++){\n\t\t\t\t\tif(i==0){\n\t\t\t\t\t\tdata61.push(data6[i])\n\t\t\t\t\t}\n\t\t\t\t\telse if(data6[i].name!=data6[i-1].name){\n\t\t\t\t\t\tdata61.push(data6[i])\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i < data61.length;i++){\n\t\t\t\t\tlet a = 0;\n\t\t\t\t\tfor(let j = 0;j<x.length;j++){\n\t\t\t\t\t\tif(data61[i].name == x[j].name6){\n\t\t\t\t\t\t\ta += parseInt(x[j].patent_num)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata61[i].patent_num = a\n\t\t\t\t}\n\t\t\t\t//5\n\t\t\t\tvar data5 = [];\n\t\t\t\tvar data51 = [];\n\t\t\t\tfor(let i = 0;i<x.length;i++){\n\t\t\t\t\tif(x[i].name5){\n\t\t\t\t\t\tdata5.push({name:x[i].name5,parent:x[i].name4})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<data5.length;i++){\n\t\t\t\t\tif(i==0){\n\t\t\t\t\t\tdata51.push(data5[i])\n\t\t\t\t\t}\n\t\t\t\t\telse if(data5[i].name!=data5[i-1].name){\n\t\t\t\t\t\tdata51.push(data5[i])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i < data51.length;i++){\n\t\t\t\t\tlet a = 0;\n\t\t\t\t\tfor(let j = 0;j<x.length;j++){\n\t\t\t\t\t\tif(data51[i].name == x[j].name5){\n\t\t\t\t\t\t\ta += parseInt(x[j].patent_num)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata51[i].patent_num = a\n\t\t\t\t}\n\t\t\t\t//4\n\t\t\t\tvar data4 = [];\n\t\t\t\tvar data41 = [];\n\t\t\t\tfor(let i = 0;i<x.length;i++){\n\t\t\t\t\tif(x[i].name4){\n\t\t\t\t\t\tdata4.push({name:x[i].name4,parent:x[i].name3})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<data4.length;i++){\n\t\t\t\t\tif(i==0){\n\t\t\t\t\t\tdata41.push(data4[i])\n\t\t\t\t\t}\n\t\t\t\t\telse if(data4[i].name!=data4[i-1].name){\n\t\t\t\t\t\tdata41.push(data4[i])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i < data41.length;i++){\n\t\t\t\t\tlet a = 0;\n\t\t\t\t\tfor(let j = 0;j<x.length;j++){\n\t\t\t\t\t\tif(data41[i].name == x[j].name4){\n\t\t\t\t\t\t\ta += parseInt(x[j].patent_num)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata41[i].patent_num = a\n\t\t\t\t}\n\t\t\t\t//3\n\t\t\t\tvar data3 = [];\n\t\t\t\tvar data31 = [];\n\t\t\t\tfor(let i = 0;i<x.length;i++){\n\t\t\t\t\tif(x[i].name3){\n\t\t\t\t\t\tdata3.push({name:x[i].name3,parent:x[i].name2})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<data3.length;i++){\n\t\t\t\t\tif(i==0){\n\t\t\t\t\t\tdata31.push(data3[i])\n\t\t\t\t\t}\n\t\t\t\t\telse if(data3[i].name!=data3[i-1].name){\n\t\t\t\t\t\tdata31.push(data3[i])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i < data31.length;i++){\n\t\t\t\t\tlet a = 0;\n\t\t\t\t\tfor(let j = 0;j<x.length;j++){\n\t\t\t\t\t\tif(data31[i].name == x[j].name3){\n\t\t\t\t\t\t\ta += parseInt(x[j].patent_num)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata31[i].patent_num = a\n\t\t\t\t}\n\t\t\t\t//2\n\t\t\t\tvar data2 = [];\n\t\t\t\tvar data21 = [];\n\t\t\t\tfor(let i = 0;i<x.length;i++){\n\t\t\t\t\tif(x[i].name2){\n\t\t\t\t\t\tdata2.push({name:x[i].name2,parent:x[i].name1})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<data2.length;i++){\n\t\t\t\t\tif(i==0){\n\t\t\t\t\t\tdata21.push(data2[i])\n\t\t\t\t\t}\n\t\t\t\t\telse if(data2[i].name!=data2[i-1].name){\n\t\t\t\t\t\tdata21.push(data2[i])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i < data21.length;i++){\n\t\t\t\t\tlet a = 0;\n\t\t\t\t\tfor(let j = 0;j<x.length;j++){\n\t\t\t\t\t\tif(data21[i].name == x[j].name2){\n\t\t\t\t\t\t\ta += parseInt(x[j].patent_num)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata21[i].patent_num = a\n\t\t\t\t}\n\n\t\t\t\tvar d1=[],\n\t\t\t\td2=[],\n\t\t\t\td3=[],\n\t\t\t\td4=[],\n\t\t\t\td5=[],\n\t\t\t\td6=[],\n\t\t\t\td7=[];\n\t\t\t\t//7\n\t\t\t\tfor(let i = 0;i<data71.length;i++){\n\t\t\t\t\tlet children = [];\n\t\t\t\t\tfor(let j = 0;j<data81.length;j++){\n\t\t\t\t\t\tif(data71[i].name == data81[j].parent){\n\t\t\t\t\t\t\tchildren.push(data81[j])\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(children.length>0){\n\t\t\t\t\td7.push({name:data71[i].name,children:children,patent_num:data71[i].patent_num})\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{d7.push({name:data71[i].name,patent_num:data71[i].patent_num})}\n\t\t\t\t}\n\t\t\t\t//6\n\t\t\t\tfor(let i = 0;i<data61.length;i++){\n\t\t\t\t\tlet children = [];\n\t\t\t\t\tfor(let j = 0;j<d7.length;j++){\n\t\t\t\t\t\tif(data61[i].name == data71[j].parent){\n\t\t\t\t\t\t\tchildren.push(d7[j])\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(children.length>0){\n\t\t\t\t\t\td6.push({name:data61[i].name,children:children,patent_num:data61[i].patent_num})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{d6.push({name:data61[i].name,patent_num:data61[i].patent_num})}\n\t\t\t\t\t}\n\t\t\t\t//5\n\t\t\t\tfor(let i = 0;i<data51.length;i++){\n\t\t\t\t\tlet children = [];\n\t\t\t\t\tfor(let j = 0;j<data61.length;j++){\n\t\t\t\t\t\tif(data51[i].name == data61[j].parent){\n\t\t\t\t\t\t\tchildren.push(d6[j])\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(children.length>0){\n\t\t\t\t\t\td5.push({name:data51[i].name,children:children,patent_num:data51[i].patent_num})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{d5.push({name:data51[i].name,patent_num:data51[i].patent_num})}\n\t\t\t\t\t}\n\t\t\t\t//4\n\t\t\t\tfor(let i = 0;i<data41.length;i++){\n\t\t\t\t\tlet children = [];\n\t\t\t\t\tfor(let j = 0;j<data51.length;j++){\n\t\t\t\t\t\tif(data41[i].name == data51[j].parent){\n\t\t\t\t\t\t\tchildren.push(d5[j])\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(children.length>0){\n\t\t\t\t\t\td4.push({name:data41[i].name,children:children,patent_num:data41[i].patent_num})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{d4.push({name:data41[i].name,patent_num:data41[i].patent_num})}\n\t\t\t\t\t}\n\t\t\t\t//3\n\t\t\t\tfor(let i = 0;i<data31.length;i++){\n\t\t\t\t\tlet children = [];\n\t\t\t\t\tfor(let j = 0;j<data41.length;j++){\n\t\t\t\t\t\tif(data31[i].name == data41[j].parent){\n\t\t\t\t\t\t\tchildren.push(d4[j])\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(children.length>0){\n\t\t\t\t\t\td3.push({name:data31[i].name,children:children,patent_num:data31[i].patent_num})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{d3.push({name:data31[i].name,patent_num:data31[i].patent_num})}\n\t\t\t\t\t}\n\t\t\t\t//2\n\t\t\t\tfor(let i = 0;i<data21.length;i++){\n\t\t\t\t\tlet children = [];\n\t\t\t\t\tfor(let j = 0;j<data31.length;j++){\n\t\t\t\t\t\tif(data21[i].name == data31[j].parent){\n\t\t\t\t\t\t\tchildren.push(d3[j])\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(children.length>0){\n\t\t\t\t\t\td2.push({name:data21[i].name,children:children,patent_num:data21[i].patent_num})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{d2.push({name:data21[i].name,patent_num:data21[i].patent_num})}\n\t\t\t\t\t}\n\n\t\t\t\tlet t_sum = 0;\n\t\t\t\tfor(let i = 0;i<d2.length;i++){\n\t\t\t\t\tt_sum += d2[i].patent_num\n\t\t\t\t}\n\t\t\t\td1={name:\"半导体显示\",children:d2,patent_num:t_sum};\n\t\t\t\t\n\t\t\t\t\treturn d1;\n\t\t},\n\t\taler2(){\n\t\t\t\n\t\t\t\n\t\t},\n\t\tcreatePanel(){\n\t\t\tlet w = this.$store.state.width * 0.85;\n\t\t\tlet h = this.$store.state.height * 0.7;\n\t\t\tlet data = this.userData;\n\t\t\tlet len = data.length;\n\t\t\tlet column = 8\n\t\t\tlet pd = 5,ph = h/(Math.ceil(len/column)+1);\n\t\t\tlet boxWidth = (w - 50)/(column) - pd\n\t\t\tlet boxHeight = 30\n\t\t\t\n\t\t\td3.select(\"body\")\n\t\t\t.append('svg')\n\t\t\t.attr(\"id\",'panel')\n\t\t\t.style(\"left\",this.$store.state.width * 0.08)\n\t\t\t.style(\"top\",this.$store.state.height * 0.1)\n\t\t\t.style(\"position\",'absolute')\n\t\t\t.attr(\"width\",w)\n\t\t\t.attr(\"height\",h)\n\t\t\t.style(\"background-color\",'#000000')\n\t\t\t.style(\"opacity\",0.7)\n\t\t\t\n\t\t\tlet actions = d3.select(\"#panel\").append(\"g\")\n\t\t\tlet color = d3.scale.category10()\n\t\t\tlet scale = d3.scale.linear().domain([1,5]).range([boxHeight,ph ])\n\t\t\tactions.selectAll(\"rect\")\n\t\t\t.data(data)\n\t\t\t.enter()\n\t\t\t.append('rect')\n\t\t\t.attr(\"width\",d=>d.lastTime?boxWidth*3/4:boxWidth)\n\t\t\t.attr('height',d=>d.lastTime?scale(d.lastTime):boxHeight)\n\t\t\t.attr(\"x\",(d,i)=> d.lastTime?(i%column) * (boxWidth + pd)+ pd + boxWidth/8:(i%column) * (boxWidth + pd)+ pd )\n\t\t\t.attr(\"y\",(d,i)=>d.lastTime?(Math.floor(i/column)+1) * ph-scale(d.lastTime)+30:(Math.floor(i/column)+1) * ph)\n\t\t\t.attr(\"rx\",10)\n\t\t\t.style(\"fill\",d=>color(d.view))\n\t\t\t.style(\"stroke-width\",3)\n\t\t\t.style(\"stroke\",d=>d.lastTime? 'None':'white')\n\t\t\t.on(\"mouseover\",(d)=>this.panel_createTip(d))\n\t\t\t.on(\"mousemove\",d=>{\n\t\t\t\tthis.A_TipRemove('panel');\n\t\t\t\tthis.panel_createTip(d)\n\t\t\t})\n\t\t\t.on(\"mouseout\",()=>{\n\t\t\t\tthis.A_TipRemove('panel')\n\t\t\t})\n\t\t\t\n\t\t\tactions.selectAll(\"text\")\n\t\t\t.data(data)\n\t\t\t.enter()\n\t\t\t.append('text')\n\t\t\t.attr(\"width\",boxWidth)\n\t\t\t.attr('height',boxHeight)\n\t\t\t.style(\"fill\",'white')\n\t\t\t.style(\"text-weight\",'bold')\n\t\t\t.attr(\"text-anchor\",'middle')\n\t\t\t.attr(\"dx\",(d,i)=> (i%column) * (boxWidth + pd)+ pd  + boxWidth/2)\n\t\t\t.attr(\"dy\",(d,i)=>(Math.floor(i/column)+1) * ph + 15)\n\t\t\t.on(\"mouseover\",(d)=>this.panel_createTip(d))\n\t\t\t.on(\"mousemove\",d=>{\n\t\t\t\tthis.A_TipRemove('panel');\n\t\t\t\tthis.panel_createTip(d)\n\t\t\t})\n\t\t\t.on(\"mouseout\",()=>{\n\t\t\t\tthis.A_TipRemove('panel')\n\t\t\t})\n\t\t\t.text(d=>d.obj)\n\n\t\t}\n\t},\n\twatch:{\n\t\tpanel(val){\n\t\t\tif(val){\n\t\t\t\tthis.createPanel()\n\t\t\t}\n\t\t\telse {\n\t\t\t\td3.select(\"#panel\")\n\t\t\t\t.remove()\n\t\t\t}\n\t\t},\n\t\thovered(val){\n\t\t\td3.select(\"#svgA\").selectAll(\"path\")\n\t\t\t.filter(d=>{return d.name == val})\n\t\t\t.style(\"fill\",\"#06ddf4\");\n\t\t\t\n\t\t\td3.select(\"#svgA\").selectAll(\"path\")\n\t\t\t.filter(d=>{return d.name != val && d.name != this.selected})\n\t\t\t.style(\"fill\",\"#fcf6db\")\n\t\t},\n\t\tselected(val){\n\t\t\td3.select(\"#svgA\").selectAll(\"path\")\n\t\t\t.filter(d=>{return d.name == val})\n\t\t\t.style(\"fill\",\"#06ddf4\");\n\t\t\td3.select(\"#svgA\").selectAll(\"path\")\n\t\t\t.filter(d=>{return d.name != val})\n\t\t\t.style(\"fill\",\"#fcf6db\");\n\t\t\tthis.$store.commit({\n\t\t\t\ttype:'changeDataD',\n\t\t\t\tselected:val,\n\t\t\t\tleaf:this.leaf\n\t\t\t})\n\t\t\tthis.$store.commit({\n\t\t\t\t\ttype:'changeStatesA',\n\t\t\t\t\tAselected:val,\n\t\t\t\t\tAleaf:this.leaf\n\t\t\t\t})\n\t\t\tthis.$store.commit({\n\t\t\t\ttype:'changeGlobalD',\n\t\t\t\tkey:'title',\n\t\t\t\tvalue:val\n\t\t\t})\n\t\t\t// 需要在这里修改visualstates的参数\n\n\t\t},\n\t\tbar_title(val){\n\t\t\td3.select(\"#AbarTitle\")\n\t\t\t.text(val+\"叶子产业专利数排序\")\n\t\t},\n\t\tleaf(val){\n\t\t\t\tthis.$store.commit({\n\t\t\t\t\ttype:'changeDataD',\n\t\t\t\t\tselected:this.selected,\n\t\t\t\t\tleaf:val\n\t\t\t\t})\n\t\t\t\tthis.$store.commit({\n\t\t\t\t\ttype:'changeStatesA',\n\t\t\t\t\tAselected:this.selected,\n\t\t\t\t\tAleaf:val\n\t\t\t\t})\n\n\t\t},\n\t\ttreeDataLength(val){\n\t\t\t\n\t\t\tlet tempDatat =[];\n\t\t\tlet tempDatat2 = [];\n\t\t\tlet tempDatat3 = [];\n\t\t\tlet tempDatat4 = [];\n\t\t\tlet tempDatat5 = [];\n\t\t\tif(val == 0){\n\t\t\t\tthis.$store.commit({\n\t\t\t\t\ttype : 'changeBflare',\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t}\n\t\t\telse if(val == 1){\n\t\t\t\tfor(let i = 0;i<this.$store.state.data_overall.length;i++){\n\t\t\t\t\tif(this.$store.state.data_overall[i].comp_name == this.treeData[0]){\n\t\t\t\t\t\ttempDatat.push(this.$store.state.data_overall[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet a = this.dataToFlare(tempDatat)\n\t\t\t\t//console.log(a)\n\t\t\t\tthis.$store.commit({\n\t\t\t\t\ttype : 'changeBflare',\n\t\t\t\t\tflare0 :a\n\t\t\t\t})\n\t\t\t}\n\t\t\telse if(val == 2){\n\t\t\t\tfor(let i = 0;i<this.$store.state.data_overall.length;i++){\n\t\t\t\t\tif(this.$store.state.data_overall[i]['name'+(this.depth+1)]==this.rootName&&this.$store.state.data_overall[i].comp_name == this.treeData[0]){\n\t\t\t\t\t\ttempDatat.push(this.$store.state.data_overall[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<this.$store.state.data_overall.length;i++){\n\t\t\t\t\tif(this.$store.state.data_overall[i]['name'+(this.depth+1)]==this.rootName&&this.$store.state.data_overall[i].comp_name == this.treeData[1]){\n\t\t\t\t\t\ttempDatat2.push(this.$store.state.data_overall[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<this.$store.state.data_overall.length;i++){\n\t\t\t\t\tif(this.$store.state.data_overall[i]['name'+(this.depth+1)]==this.rootName&&(this.$store.state.data_overall[i].comp_name == this.treeData[0]||\n\t\t\t\t\tthis.$store.state.data_overall[i].comp_name == this.treeData[1])){\n\t\t\t\t\t\ttempDatat3.push(this.$store.state.data_overall[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<this.$store.state.data_overall.length;i++){\n\t\t\t\t\tif(this.$store.state.data_overall[i]['name'+(this.depth+1)]==this.rootName&&(this.$store.state.data_overall[i].comp_name == this.treeData[0]||\n\t\t\t\t\tthis.$store.state.data_overall[i].comp_name == this.treeData[1])){\n\t\t\t\t\t\ttempDatat4.push(this.$store.state.data_overall[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<this.$store.state.data_overall.length;i++){\n\t\t\t\t\tif(this.$store.state.data_overall[i]['name'+(this.depth+1)]==this.rootName&&(this.$store.state.data_overall[i].comp_name == this.treeData[0]||\n\t\t\t\t\tthis.$store.state.data_overall[i].comp_name == this.treeData[1])){\n\t\t\t\t\t\ttempDatat5.push(this.$store.state.data_overall[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet a = this.dataToFlare(tempDatat);\n\t\t\t\tlet b = this.dataToFlare(tempDatat2);\n\t\t\t\tlet c = this.dataToFlare(tempDatat3);\n\t\t\t\tlet d = this.dataToFlare(tempDatat4);\n\t\t\t\tlet e = this.dataToFlare(tempDatat5);\n\t\t\t\tthis.$store.commit({\n\t\t\t\t\ttype : 'changeBflare',\n\t\t\t\t\tflare0 :a,\n\t\t\t\t\tflare1 :b,\n\t\t\t\t\tflareSum :c,\n\t\t\t\t\tflareSum2 :d,\n\t\t\t\t\tflareSum3 :e\n\t\t\t\t})\n\t\t\t\tthis.$store.commit({\n\t\t\t\t\ttype: 'changeStatesB',\n\t\t\t\t\tBflare0 :a,\n\t\t\t\t\tBflare1 :b,\n\t\t\t\t\tBflareSum :c,\n\t\t\t\t\tBflareSum2 :d,\n\t\t\t\t\tBflareSum3 :e\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t},\n\t\ttreeDataIndex2(val){\n\t\t\tlet tempDatat =[];\n\t\t\tlet tempDatat2 = [];\n\t\t\tlet tempDatat3 = [];\n\t\t\tlet tempDatat4 = [];\n\t\t\tlet tempDatat5 = [];\n\t\t\t\n\t\t\tif(val){\n\t\t\t\tfor(let i = 0;i<this.$store.state.data_overall.length;i++){\n\t\t\t\t\tif(this.$store.state.data_overall[i].comp_name == this.treeData[0]){\n\t\t\t\t\t\ttempDatat.push(this.$store.state.data_overall[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<this.$store.state.data_overall.length;i++){\n\t\t\t\t\tif(this.$store.state.data_overall[i].comp_name == this.treeData[1]){\n\t\t\t\t\t\ttempDatat2.push(this.$store.state.data_overall[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<this.$store.state.data_overall.length;i++){\n\t\t\t\t\tif(this.$store.state.data_overall[i].comp_name == this.treeData[0]||\n\t\t\t\t\tthis.$store.state.data_overall[i].comp_name == this.treeData[1]){\n\t\t\t\t\t\ttempDatat3.push(this.$store.state.data_overall[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<this.$store.state.data_overall.length;i++){\n\t\t\t\t\tif(this.$store.state.data_overall[i].comp_name == this.treeData[0]||\n\t\t\t\t\tthis.$store.state.data_overall[i].comp_name == this.treeData[1]){\n\t\t\t\t\t\ttempDatat4.push(this.$store.state.data_overall[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(let i = 0;i<this.$store.state.data_overall.length;i++){\n\t\t\t\t\tif(this.$store.state.data_overall[i].comp_name == this.treeData[0]||\n\t\t\t\t\tthis.$store.state.data_overall[i].comp_name == this.treeData[1]){\n\t\t\t\t\t\ttempDatat5.push(this.$store.state.data_overall[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet a = this.dataToFlare(tempDatat);\n\t\t\t\tlet b = this.dataToFlare(tempDatat2);\n\t\t\t\tlet c = this.dataToFlare(tempDatat3);\n\t\t\t\tlet d = this.dataToFlare(tempDatat4);\n\t\t\t\tlet e = this.dataToFlare(tempDatat5);\n\t\t\t\t\n\t\t\t\tthis.$store.commit({\n\t\t\t\t\ttype : 'changeBflare',\n\t\t\t\t\tflare0 :a,\n\t\t\t\t\tflare1 :b,\n\t\t\t\t\tflareSum :c,\n\t\t\t\t\tflareSum2 :d,\n\t\t\t\t\tflareSum3 :e\n\t\t\t\t})\n\n\t\t\t\tthis.$store.commit({\n\t\t\t\t\ttype: 'changeStatesB',\n\t\t\t\t\tBflare0 :a,\n\t\t\t\t\tBflare1 :b,\n\t\t\t\t\tBflareSum :c,\n\t\t\t\t\tBflareSum2 :d,\n\t\t\t\t\tBflareSum3 :e\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n\n</style>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}